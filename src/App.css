/* Reusable Tailwind classes for Sidebar component */

@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

body {
  overflow: hidden;
  padding: 0;
  margin: 0;
  font-family: "Sora", sans-serif;
  padding-top: env(safe-area-inset-top)
}

@font-face {
  font-family: "Sora", sans-serif;
  src: url("./assets/fonts/Sora-VariableFont_wght.ttf");
}


:root {
  --safe-area-bottom: max(env(safe-area-inset-bottom), 0.5rem);
  --background: #eff1f5;
  --foreground: #4c4f69;
  --card: #ffffff;
  --card-foreground: #4c4f69;
  --popover: #ccd0da;
  --popover-foreground: #4c4f69;
  --primary: #8839ef;
  --primary-foreground: #ffffff;
  --secondary: #ccd0da;
  --secondary-foreground: #4c4f69;
  --muted: #dce0e8;
  --muted-foreground: #d4d4d4;
  --accent: #04a5e5;
  --accent-foreground: #ffffff;
  --destructive: #d20f39;
  --destructive-foreground: #ffffff;
  --border: #bcc0cc;
  --input: #ccd0da;
  --ring: #8839ef;
  --chart-1: #8839ef;
  --chart-2: #04a5e5;
  --chart-3: #40a02b;
  --chart-4: #fe640b;
  --chart-5: #dc8a78;
  --sidebar: #e6e9ef;
  --sidebar-foreground: #4c4f69;
  --sidebar-primary: #8839ef;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #04a5e5;
  --sidebar-accent-foreground: #ffffff;
  --sidebar-border: #bcc0cc;
  --sidebar-ring: #8839ef;
  --font-sans: Montserrat, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Fira Code, monospace;
  --radius: 0.35rem;
  --shadow-2xs: 0px 4px 6px 0px hsl(240 30% 25% / 0.06);
  --shadow-xs: 0px 4px 6px 0px hsl(240 30% 25% / 0.06);
  --shadow-sm:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 1px 2px -1px hsl(240 30% 25% / 0.12);
  --shadow:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 1px 2px -1px hsl(240 30% 25% / 0.12);
  --shadow-md:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 2px 4px -1px hsl(240 30% 25% / 0.12);
  --shadow-lg:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 4px 6px -1px hsl(240 30% 25% / 0.12);
  --shadow-xl:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 8px 10px -1px hsl(240 30% 25% / 0.12);
  --shadow-2xl: 0px 4px 6px 0px hsl(240 30% 25% / 0.3);
  --tracking-normal: 0em;
  --spacing: 0.25rem;
}

.dark {
  --background: #181825;
  --foreground: #cdd6f4;
  --card: #1e1e2e;
  --card-foreground: #cdd6f4;
  --popover: #45475a;
  --popover-foreground: #cdd6f4;
  --primary: #cba6f7;
  --primary-foreground: rgb(88, 88, 88);
  --secondary: #585b70;
  --secondary-foreground: #cdd6f4;
  --muted: #292c3c;
  --muted-foreground: #a6adc8;
  --accent: #b4a1fa;
  --accent-foreground: #cdd6f4;
  --destructive: #f38ba8;
  --destructive-foreground: #1e1e2e;
  --border: #313244;
  --input: #313244;
  --ring: #cba6f7;
  --chart-1: #cba6f7;
  --chart-2: #89dceb;
  --chart-3: #a6e3a1;
  --chart-4: #fab387;
  --chart-5: #f5e0dc;
  --sidebar: #11111b;
  --sidebar-foreground: #cdd6f4;
  --sidebar-primary: #cba6f7;
  --sidebar-primary-foreground: #1e1e2e;
  --sidebar-accent: #89dceb;
  --sidebar-accent-foreground: #1e1e2e;
  --sidebar-border: #45475a;
  --sidebar-ring: #cba6f7;
  --font-sans: Montserrat, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Fira Code, monospace;
  --radius: 0.35rem;
  --shadow-2xs: 0px 4px 6px 0px hsl(240 30% 25% / 0.06);
  --shadow-xs: 0px 4px 6px 0px hsl(240 30% 25% / 0.06);
  --shadow-sm:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 1px 2px -1px hsl(240 30% 25% / 0.12);
  --shadow:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 1px 2px -1px hsl(240 30% 25% / 0.12);
  --shadow-md:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 2px 4px -1px hsl(240 30% 25% / 0.12);
  --shadow-lg:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 4px 6px -1px hsl(240 30% 25% / 0.12);
  --shadow-xl:
    0px 4px 6px 0px hsl(240 30% 25% / 0.12),
    0px 8px 10px -1px hsl(240 30% 25% / 0.12);
  --shadow-2xl: 0px 4px 6px 0px hsl(240 30% 25% / 0.3);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
  --font-serif: var(--font-serif);

  --radius-sm: calc((var(--radius) * 1.3) - 4px);
  --radius-md: calc((var(--radius) * 1.3) - 2px);
  --radius-lg: calc(var(--radius) * 1.3);
  --radius-xl: calc((var(--radius) * 1.3) + 4px);

  --shadow-2xs: var(--shadow-2xs);
  --shadow-xs: var(--shadow-xs);
  --shadow-sm: var(--shadow-sm);
  --shadow: var(--shadow);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
  --shadow-2xl: var(--shadow-2xl);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
    letter-spacing: var(--tracking-normal);
  }
}

/* Reusable Tailwind classes for ChatInput component */

.chat-input-form {
  @apply w-full z-50 bg-transparent px-2 pt-2;
  padding-bottom: var(--safe-area-bottom);
}

.model-picker-row {
  @apply mb-2 flex items-center gap-2;
}

.model-select-btn {
  @apply h-10 rounded-full px-3 truncate max-w-full flex-1 transition-all duration-150 hover:bg-accent/10 active:scale-[0.98];
}

.star-btn {
  @apply h-10 w-10 transition-transform duration-150 active:scale-95;
}

.attachments-strip {
  @apply mb-2 -mx-1 flex gap-2 overflow-x-auto px-1;
}

.attachment-item {
  @apply flex items-center gap-2 rounded-xl border bg-card/70 px-2 py-2 shadow-sm min-w-[164px];
}

.attachment-img {
  @apply h-12 w-12 flex-shrink-0 rounded object-cover;
}

.attachment-file-icon {
  @apply h-12 w-12 flex items-center justify-center rounded bg-muted text-xs;
}

.attachment-details {
  @apply min-w-0;
}

.attachment-name {
  @apply truncate text-xs;
}

.attachment-size {
  @apply text-[10px] text-muted-foreground;
}

.attachment-remove-btn {
  @apply ml-1 h-10 w-10 transition-transform duration-150 active:scale-95;
}

.attachment-loading {
  @apply opacity-75;
}

.attachment-loading-placeholder {
  @apply h-12 w-12 flex flex-col items-center justify-center rounded bg-muted/50 text-xs gap-1;
}

.input-bar {
  @apply flex w-full items-end gap-2;
}

.input-container {
  @apply flex min-h-12 flex-1 items-end gap-2 rounded-full border bg-card px-2 py-2 shadow-md transition-all duration-150 focus-within:shadow-lg focus-within:ring-2 focus-within:ring-ring/50;
}

.attach-btn {
  @apply h-12 w-12 flex-shrink-0 rounded-full transition-all duration-150 hover:bg-accent/10 active:scale-95;
}

.textarea-wrapper {
  @apply flex-1 py-1;
}

.textarea {
  @apply max-h-48 w-full resize-none bg-transparent leading-6 outline-none placeholder:text-muted-foreground/70 transition-colors duration-150;
}

.send-btn {
  @apply h-14 w-14 flex-shrink-0 rounded-full shadow-lg transition-all duration-150 hover:shadow-xl active:scale-95;
}

.models-list {
  @apply mt-4 overflow-x-visible overflow-y-visible;
}

.search-input {
  @apply w-full rounded-full border bg-card px-4 py-2 text-base shadow-sm focus:ring-2 focus:ring-ring/50 transition-all duration-150;
}

.filter-select {
  @apply w-full rounded-full border bg-card px-4 py-2 text-base shadow-sm focus:ring-2 focus:ring-ring/50 transition-all duration-150;
}

.model-list-container {
  @apply px-4 pb-2 overflow-y-auto max-h-[40vh];
}

.no-models {
  @apply text-muted-foreground text-center py-8;
}

.inner-model-list {
  @apply mb-2 overflow-y-auto max-h-[38vh];
}

.provider-label-openrouter {
  @apply text-xs font-semibold mb-2 text-blue-500;
}

.provider-label-gemini {
  @apply text-xs font-semibold mb-2 text-green-500;
}

.model-pill {
  @apply flex items-center gap-2 w-full rounded-full px-4 py-3 mb-2 shadow-sm border transition-all duration-150 active:scale-95 cursor-pointer;
}

.model-pill-selected {
  @apply bg-accent/10 border-accent;
}

.model-pill-default {
  @apply bg-card border-card;
}

.model-name {
  @apply truncate font-medium;
}

.image-badge {
  @apply ml-2 flex items-center;
}

.search-input-wrapper {
  @apply px-4 pb-2 overflow-x-visible overflow-y-visible;
}

.filter-select-wrapper {
  @apply px-4 pb-2 overflow-x-visible overflow-y-visible;
}

.sidebar-root {
  @apply bg-background shadow-md min-w-[260px] transition-shadow;
}

.sidebar-header {
  @apply py-4 px-2 border-b flex flex-row;
}

.sidebar-logo {
  @apply flex items-center gap-2 px-2 py-2 rounded-full transition-all duration-150 focus-visible:ring-2 focus-visible:ring-ring/50;
}

.sidebar-content {
  @apply py-2 px-2;
}

.sidebar-group-label {
  @apply text-muted-foreground px-2 py-1;
}

.chat-list-btn {
  @apply w-full justify-start rounded-full px-2 py-2 transition-colors hover:bg-accent/10 focus-visible:ring-2 focus-visible:ring-ring/50;
}

.chat-list-btn-active {
  @apply bg-card shadow-md;
}

.sidebar-action-btn {
  @apply rounded-full flex items-center justify-center transition-all hover:bg-accent/10 active:scale-95
}

.sidebar-menu-item {
  @apply flex flex-row items-center justify-between;
}

.sidebar-trigger-button {
  @apply -ml-1 bg-accent text-black rounded-full w-10 h-10
}

.sidebar-dropdown-content {
  @apply bg-card border shadow-md rounded-xl;
}

.sidebar-dropdown-item {
  @apply flex items-center gap-2 text-destructive hover:bg-destructive/10 rounded-full px-2 py-2 transition-colors;
}

.sidebar-footer {
  @apply py-4 px-2 border-t;
}

.settings-btn {
  @apply h-12 w-full rounded-full flex items-center gap-2 transition-all duration-150 hover:bg-accent/10 active:scale-95 focus-visible:ring-2 focus-visible:ring-ring/50;
}

.sidebar-dialog-content {
  @apply bg-card border shadow-lg rounded-xl;
}

.sidebar-dialog-title {
  @apply text-lg font-semibold;
}

.sidebar-dialog-description {
  @apply text-muted-foreground;
}

.sidebar-dialog-footer {
  @apply flex gap-2 justify-end;
}

.sidebar-dialog-btn {
  @apply rounded-full px-4 py-2 transition-all;
}

.search-chat-input {
  @apply h-12 w-full rounded-full border bg-card pl-10 pr-10 py-2 text-sm shadow-sm focus:ring-2 focus:ring-ring/50 transition-all duration-150 placeholder:text-muted-foreground/70;
}


.home-container {
  @apply container flex flex-col items-center justify-center min-h-screen px-4 py-8 gap-6;
  padding-bottom: var(--safe-area-bottom);
}

.home-icon {
  @apply h-24 w-24 mx-auto text-primary;
}

.home-title {
  @apply text-4xl font-bold text-center;
}

.home-description {
  @apply max-w-md mx-auto text-center text-muted-foreground text-lg leading-relaxed;
}

.home-button {
  @apply h-12 px-6 rounded-full shadow-lg transition-all duration-150 active:scale-95;
}

/* Reusable Tailwind classes for App Header */

.app-header {
  @apply flex items-center justify-between bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 py-3;
}

.app-logo {
  @apply flex items-center gap-2 rounded-full transition-all duration-150 hover:bg-accent/10 px-2 py-1 focus-visible:ring-2 focus-visible:ring-ring/50;
}

.app-logo-icon {
  @apply h-8 w-8 rounded-full bg-gradient-to-r from-primary to-accent flex items-center justify-center;
}

.app-logo-text {
  @apply font-semibold text-lg hidden sm:block;
}

.new-chat-btn {
  @apply h-10 w-10 rounded-full motion-safe:transition-all motion-safe:duration-150 hover:bg-accent/10 active:scale-95;
}

/* Animation classes for hiding/showing UI elements */
.ui-element-hidden {
  @apply transition-all duration-300 -translate-y-full opacity-0;
}

.ui-element-visible {
  @apply transition-all duration-300 translate-y-0 opacity-100;
}

/* Custom Citation Tooltip */
.citation-tooltip {
  position: relative;
  cursor: pointer;
  text-decoration: none;
}

.citation-tooltip sup {
  margin: 0 0.125rem;
  border-radius: 9999px;
  background-color: hsl(var(--muted));
  padding: 0.125rem 0.375rem;
  font-size: 0.75rem;
  font-weight: 600;
  color: hsl(var(--muted-foreground));
  transition: all 150ms;
}

.citation-tooltip:hover sup {
  background-color: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
}

.citation-tooltip::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
  background-color: hsl(var(--popover));
  color: hsl(var(--popover-foreground));
  border: 1px solid hsl(var(--border));
  padding: 0.5rem 0.75rem;
  border-radius: var(--radius);
  font-size: 0.875rem;
  line-height: 1.4;
  max-width: 300px;
  width: max-content;
  text-align: center;
  white-space: normal;
  visibility: hidden;
  opacity: 0;
  transition: opacity 150ms, visibility 150ms;
  z-index: 50;
  pointer-events: none;
}

.citation-tooltip:hover::after {
  visibility: visible;
  opacity: 1;
}